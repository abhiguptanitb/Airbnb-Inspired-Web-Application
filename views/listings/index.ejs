<% layout("/layouts/boilerplate")%>

<style>
    /* Simple Hero Section */
    .hero-section {
        text-align: center;
        padding: 4rem 2rem;
        margin: 2rem 0 4rem;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.15) 0%, rgba(118, 75, 162, 0.15) 50%, rgba(6, 182, 212, 0.15) 100%);
        border-radius: 2rem;
        border: 2px solid rgba(99, 102, 241, 0.2);
    }

    .hero-content {
        max-width: 800px;
        margin: 0 auto;
    }

    .hero-section h1 {
        font-size: 3rem;
        font-weight: 800;
        margin-bottom: 1.5rem;
        color: var(--text-dark);
        line-height: 1.2;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .hero-section .subtitle {
        font-size: 1.3rem;
        color: var(--text-medium);
        margin-bottom: 2.5rem;
        font-weight: 400;
    }

    .hero-cta {
        display: flex;
        gap: 1.5rem;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        width: 100%;
    }

    .hero-cta .btn {
        padding: 1rem 2.5rem;
        font-size: 1rem;
        font-weight: 600;
        border-radius: 2rem;
        white-space: nowrap;
        min-width: 180px;
        text-align: center;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
    }

    .hero-cta .add-btn {
        background: linear-gradient(135deg, var(--primary-color), var(--primary-dark)) !important;
        color: white !important;
        border: none !important;
    }

    .hero-cta .btn-outline-light {
        background: transparent !important;
        border: 2px solid var(--primary-color) !important;
        color: var(--primary-color) !important;
    }

    .hero-cta .btn-outline-light:hover {
        background: var(--primary-color) !important;
        color: white !important;
    }

    /* Stats Section Compact */
    .stats-section {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
        gap: 1.5rem;
        margin: 3rem 0;
        padding: 2rem 1.5rem;
        background: var(--bg-white);
        border-radius: 1.5rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        position: relative;
        z-index: 1;
    }

    .stat-card {
        text-align: center;
        padding: 1.5rem 1rem;
        border-radius: 1rem;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.08), rgba(6, 182, 212, 0.08));
        border: 1px solid rgba(99, 102, 241, 0.1);
    }

    .stat-icon {
        font-size: 2rem;
        color: var(--primary-color);
        margin-bottom: 0.75rem;
        display: block;
    }

    .stat-number {
        font-size: 2rem;
        font-weight: 800;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        line-height: 1;
    }

    .stat-label {
        color: var(--text-medium);
        font-weight: 600;
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.5px;
    }

    /* How It Works Section */
    .how-it-works {
        margin: 3rem 0;
        padding: 3rem 1.5rem;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.03), rgba(6, 182, 212, 0.03));
        border-radius: 1.5rem;
        position: relative;
    }

    .section-title {
        text-align: center;
        margin-bottom: 2.5rem;
    }

    .section-title h2 {
        font-size: 2rem;
        font-weight: 800;
        margin-bottom: 0.75rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .section-title p {
        font-size: 1rem;
        color: var(--text-light);
    }

    .steps-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .step-card {
        background: var(--bg-white);
        padding: 2rem 1.5rem;
        border-radius: 1.25rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        text-align: center;
        position: relative;
        border-top: 3px solid transparent;
    }

    .step-card:nth-child(1) { border-top-color: var(--primary-color); }
    .step-card:nth-child(2) { border-top-color: var(--secondary-color); }
    .step-card:nth-child(3) { border-top-color: var(--accent-color); }

    .step-number {
        width: 60px;
        height: 60px;
        margin: 0 auto 1.25rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.75rem;
        font-weight: 800;
        box-shadow: 0 5px 15px rgba(99, 102, 241, 0.3);
    }

    .step-card h3 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
        color: var(--text-dark);
        font-weight: 700;
    }

    .step-card p {
        color: var(--text-medium);
        line-height: 1.6;
        font-size: 0.9rem;
    }

    /* Features Section Compact */
    .features-section {
        margin: 3rem 0;
        padding: 3rem 1.5rem;
        background: var(--bg-white);
        border-radius: 1.5rem;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
    }

    .features-grid {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 1.5rem;
        max-width: 1400px;
        margin: 0 auto;
    }

    .feature-card {
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
        padding: 2rem 1.5rem;
        border-radius: 1.25rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
        text-align: center;
        border: 1px solid rgba(99, 102, 241, 0.1);
    }

    .feature-icon {
        width: 70px;
        height: 70px;
        margin: 0 auto 1.25rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.75rem;
        box-shadow: 0 8px 20px rgba(99, 102, 241, 0.3);
    }

    .feature-card h3 {
        font-size: 1.25rem;
        margin-bottom: 0.75rem;
        color: var(--text-dark);
        font-weight: 700;
    }

    .feature-card p {
        color: var(--text-medium);
        line-height: 1.6;
        font-size: 0.9rem;
    }

    /* Testimonials Section Compact */
    .testimonials-section {
        margin: 3rem 0;
        padding: 3rem 1.5rem;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
        border-radius: 1.5rem;
    }

    .testimonials-grid {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 1.5rem;
        max-width: 1200px;
        margin: 0 auto;
    }

    .testimonial-card {
        background: var(--bg-white);
        padding: 2rem 1.5rem;
        border-radius: 1.25rem;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
    }

    .testimonial-header {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }

    .testimonial-avatar {
        width: 50px;
        height: 50px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 1.25rem;
        font-weight: 700;
        margin-right: 1rem;
    }

    .testimonial-info h4 {
        margin: 0;
        font-size: 1.1rem;
        color: var(--text-dark);
        font-weight: 700;
    }

    .testimonial-info p {
        margin: 0;
        color: var(--text-light);
        font-size: 0.85rem;
    }

    .testimonial-rating {
        color: #fbbf24;
        font-size: 1rem;
        margin-bottom: 0.75rem;
    }

    .testimonial-text {
        color: var(--text-medium);
        line-height: 1.6;
        font-size: 0.9rem;
        font-style: italic;
    }

    /* Listings Section */
    .listings-header {
        text-align: center;
        margin: 6rem 0 4rem;
    }

    .listings-header h2 {
        font-size: 3rem;
        font-weight: 900;
        margin-bottom: 1rem;
        background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
    }

    .listings-header p {
        font-size: 1.3rem;
        color: var(--text-light);
    }

    .tax-info {
        display: none;
        color: var(--text-light);
        font-size: 0.9rem;
    }

    .listing-card {
    }

    .price-tag {
        display: inline-block;
        background: linear-gradient(135deg, rgba(99, 102, 241, 0.1), rgba(6, 182, 212, 0.1));
        padding: 0.5rem 1rem;
        border-radius: 0.75rem;
        font-weight: 700;
        margin-top: 0.5rem;
        font-size: 1.1rem;
    }

    .tax-toggle {
        position: fixed;
        bottom: 2rem;
        right: 2rem;
        background: var(--bg-white);
        padding: 1.25rem 1.75rem;
        border-radius: 1.5rem;
        box-shadow: 0 10px 40px rgba(0, 0, 0, 0.15);
        z-index: 100;
        border: 2px solid var(--border-color);
    }

    @media (max-width: 768px) {
        .hero-section {
            min-height: 80vh;
            padding: 4rem 1.5rem;
        }

        .hero-section h1 {
            font-size: 2.5rem;
        }

        .hero-section .subtitle {
            font-size: 1.2rem;
        }

        .stats-section {
            grid-template-columns: repeat(2, 1fr);
            gap: 1.5rem;
            padding: 2.5rem 1.5rem;
        }

        .stat-number {
            font-size: 2.5rem;
        }

        .section-title h2 {
            font-size: 2rem;
        }

        .steps-grid,
        .features-grid {
            grid-template-columns: repeat(2, 1fr);
        }
        
        .testimonials-grid {
            grid-template-columns: 1fr;
        }
        
        @media (max-width: 576px) {
            .features-grid {
                grid-template-columns: 1fr;
            }
        }

        .tax-toggle {
            bottom: 1rem;
            right: 1rem;
            padding: 1rem 1.25rem;
        }
    }
</style>

<div class="hero-section">
    <div class="hero-content">
        <h1>Discover Your Perfect Stay</h1>
        <p class="subtitle">Explore unique properties and create unforgettable memories around the world</p>
        <div class="hero-cta">
            <a href="/listings/new" class="btn add-btn">
                <i class="fa-solid fa-plus"></i> List Your Property
            </a>
            <a href="#listings" class="btn btn-outline-light">
                <i class="fa-solid fa-compass"></i> Explore Now
            </a>
        </div>
    </div>
</div>

<div class="stats-section">
    <div class="stat-card">
        <i class="fa-solid fa-home stat-icon"></i>
        <div class="stat-number"><%= allListings.length || 0 %></div>
        <div class="stat-label">Properties</div>
    </div>
    <div class="stat-card">
        <i class="fa-solid fa-users stat-icon"></i>
        <div class="stat-number">1000+</div>
        <div class="stat-label">Happy Guests</div>
    </div>
    <div class="stat-card">
        <i class="fa-solid fa-star stat-icon"></i>
        <div class="stat-number">4.8</div>
        <div class="stat-label">Average Rating</div>
    </div>
    <div class="stat-card">
        <i class="fa-solid fa-globe stat-icon"></i>
        <div class="stat-number">50+</div>
        <div class="stat-label">Destinations</div>
    </div>
</div>

<div class="listings-header" id="listings">
    <h2>Featured Properties</h2>
    <p>Handpicked selections for your perfect stay</p>
</div>

<div class="tax-toggle">
    <div class="form-check-reverse form-switch">
        <input class="form-check-input" type="checkbox" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Display total after taxes</label>
    </div>
</div>

<div class="row row-cols-lg-3 row-cols-md-2 row-cols-sm-1 mt-3 mb-5">
    <% for(let listing of allListings) { %>
        <a href="/listings/<%=listing._id%>" class="listing-link">
            <div class="card col listing-card">
                <img src="<%=listing.image.url%>" class="card-img-top" alt="" style="height: 20rem">
                <div class="card-img-overlay"></div>
                <div class="card-body">
                    <p class="card-text">
                        <b><%=listing.title%></b>
                        <span class="price-tag">&#8377; <%=listing.price.toLocaleString("en-IN")%> / night</span>
                        <i class="tax-info">&nbsp; &nbsp;+18% GST</i>
                    </p>
                </div>
            </div>
        </a>
    <% } %>
</div>

<div class="how-it-works">
    <div class="section-title">
        <h2>How It Works</h2>
        <p>Get started in three simple steps</p>
    </div>
    <div class="steps-grid">
        <div class="step-card">
            <div class="step-number">1</div>
            <h3>Browse Properties</h3>
            <p>Explore our curated collection of unique properties from around the world. Find the perfect place that matches your style and budget.</p>
        </div>
        <div class="step-card">
            <div class="step-number">2</div>
            <h3>Book Your Stay</h3>
            <p>Select your dates and complete your booking in just a few clicks. Our secure payment system ensures a hassle-free experience.</p>
        </div>
        <div class="step-card">
            <div class="step-number">3</div>
            <h3>Enjoy Your Stay</h3>
            <p>Arrive at your destination and enjoy a memorable experience. Share your feedback to help others discover amazing places.</p>
        </div>
    </div>
</div>

<div class="features-section">
    <div class="section-title">
        <h2>Why Choose StayHub?</h2>
        <p>Experience the best in property rentals</p>
    </div>
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fa-solid fa-shield-halved"></i>
            </div>
            <h3>Secure & Safe</h3>
            <p>Your safety is our priority. All properties are verified and secure for your peace of mind.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fa-solid fa-map-location-dot"></i>
            </div>
            <h3>Best Locations</h3>
            <p>Discover properties in prime locations with easy access to attractions and amenities.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fa-solid fa-headset"></i>
            </div>
            <h3>24/7 Support</h3>
            <p>Our dedicated support team is available round the clock to assist you with any queries.</p>
        </div>
        <div class="feature-card">
            <div class="feature-icon">
                <i class="fa-solid fa-tag"></i>
            </div>
            <h3>Best Prices</h3>
            <p>Get the best deals and competitive prices on all our listed properties.</p>
        </div>
    </div>
</div>

<div class="testimonials-section">
    <div class="section-title">
        <h2>What Our Guests Say</h2>
        <p>Real experiences from real travelers</p>
    </div>
    <div class="testimonials-grid">
        <div class="testimonial-card">
            <div class="testimonial-header">
                <div class="testimonial-avatar">SM</div>
                <div class="testimonial-info">
                    <h4>Sarah Mitchell</h4>
                    <p>Travel Enthusiast</p>
                </div>
            </div>
            <div class="testimonial-rating">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
            </div>
            <p class="testimonial-text">"StayHub made finding the perfect vacation rental so easy! The properties are exactly as described and the booking process was seamless."</p>
        </div>
        <div class="testimonial-card">
            <div class="testimonial-header">
                <div class="testimonial-avatar">JD</div>
                <div class="testimonial-info">
                    <h4>James Davis</h4>
                    <p>Business Traveler</p>
                </div>
            </div>
            <div class="testimonial-rating">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
            </div>
            <p class="testimonial-text">"I've used StayHub for multiple business trips. The quality of properties and customer service is outstanding. Highly recommended!"</p>
        </div>
        <div class="testimonial-card">
            <div class="testimonial-header">
                <div class="testimonial-avatar">EW</div>
                <div class="testimonial-info">
                    <h4>Emily Wilson</h4>
                    <p>Family Traveler</p>
                </div>
            </div>
            <div class="testimonial-rating">
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
                <i class="fa-solid fa-star"></i>
            </div>
            <p class="testimonial-text">"Perfect for family vacations! We found amazing properties that were family-friendly and in great locations. The kids loved it!"</p>
        </div>
    </div>
</div>

<script>
    let taxSwitch=document.getElementById("flexSwitchCheckDefault");
    if(taxSwitch) {
        taxSwitch.addEventListener("click",()=>{
            let taxInfo=document.getElementsByClassName("tax-info");
            for(info of taxInfo) {
                if(info.style.display!="inline") {
                    info.style.display="inline";
                } else {
                    info.style.display="none";
                }            
            }
        })
    }
</script>
